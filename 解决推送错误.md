# 解决GitHub推送错误

## 错误信息
```
fatal: unable to access 'https://github.com/414871700-web/thread-calculator.git/': 
Recv failure: Connection reset by peer
```

## 可能的原因
1. **网络连接问题**（最常见）
2. **需要认证但没有提供凭据**
3. **GitHub服务器暂时不可用**
4. **网络代理问题**（如果在中国大陆）

## 解决方案

### 方案1：重新尝试推送（最简单）

有时候只是临时网络问题，可以多试几次：

在终端中执行：
```bash
git push -u origin main
```

**多试几次**，有时候网络问题会自己解决。

---

### 方案2：检查网络连接

1. **测试GitHub连接**：
   在终端执行：
   ```bash
   ping github.com
   ```
   
   按 `Ctrl + C` 停止。
   
   如果能正常ping通，说明网络连接正常。

2. **在浏览器中访问GitHub**：
   打开浏览器，访问：https://github.com
   
   如果能正常打开，说明网络没问题。

---

### 方案3：使用SSH方式（推荐，更稳定）

如果HTTPS方式一直失败，可以改用SSH方式：

#### 3.1 生成SSH密钥（如果还没有）

在终端执行：
```bash
ssh-keygen -t ed25519 -C "your_email@example.com"
```

**注意**：将 `your_email@example.com` 替换为您的邮箱。

按回车后：
- 提示 `Enter file in which to save the key`：直接按回车（使用默认路径）
- 提示 `Enter passphrase`：可以直接按回车（不设置密码），或者设置一个密码

#### 3.2 查看公钥

在终端执行：
```bash
cat ~/.ssh/id_ed25519.pub
```

**复制显示的内容**（从 `ssh-ed25519` 开始，到邮箱结束）。

#### 3.3 添加SSH密钥到GitHub

1. 访问：https://github.com/settings/keys
2. 点击 **"New SSH key"**
3. 填写信息：
   - **Title**：输入任意名称（如 `MacBook`）
   - **Key**：粘贴刚才复制的公钥内容
4. 点击 **"Add SSH key"**

#### 3.4 修改远程仓库地址为SSH

在终端执行（**将 YOUR_USERNAME 替换为您的GitHub用户名**）：
```bash
git remote set-url origin git@github.com:414871700-web/thread-calculator.git
```

#### 3.5 重新推送

在终端执行：
```bash
git push -u origin main
```

**注意**：第一次使用SSH连接时，可能会提示确认GitHub的指纹，输入 `yes` 即可。

---

### 方案4：配置Git认证信息（如果是认证问题）

#### 4.1 配置Git用户名和邮箱

在终端执行（**替换为您的GitHub信息**）：
```bash
git config --global user.name "414871700-web"
git config --global user.email "your_email@example.com"
```

**注意**：将 `your_email@example.com` 替换为您的GitHub邮箱。

#### 4.2 使用Personal Access Token

如果使用HTTPS方式，推送时需要Personal Access Token：

1. 访问：https://github.com/settings/tokens
2. 点击 **"Generate new token"** → **"Generate new token (classic)"**
3. 填写信息：
   - **Note**：输入任意名称（如 `deployment`）
   - **Expiration**：选择 `90 days` 或 `No expiration`
   - **Scopes**：勾选 `repo`（会自动选中所有子权限）
4. 点击 **"Generate token"**
5. **⚠️ 重要**：复制显示的token（只显示一次，立即复制！）
6. 回到终端，执行推送命令：
   ```bash
   git push -u origin main
   ```
7. 当提示输入用户名时，输入：`414871700-web`
8. 当提示输入密码时，**粘贴刚才复制的token**（不是输入密码）

---

### 方案5：检查代理设置（如果在中国大陆）

如果您的网络使用了代理，可能需要配置Git使用代理：

#### 5.1 设置HTTP代理

```bash
git config --global http.proxy http://proxy.example.com:8080
git config --global https.proxy https://proxy.example.com:8080
```

**注意**：将 `proxy.example.com:8080` 替换为您的实际代理地址。

#### 5.2 取消代理设置（如果不需要）

```bash
git config --global --unset http.proxy
git config --global --unset https.proxy
```

---

## 推荐的解决顺序

1. **先试试方案1**：重新推送几次，看是否是临时网络问题
2. **如果还不行，试试方案4**：使用Personal Access Token（最简单）
3. **如果还不行，试试方案3**：使用SSH方式（更稳定）

---

## 验证是否成功

推送成功后，您会看到类似以下的输出：
```
Enumerating objects: 62, done.
Counting objects: 100% (62/62), done.
Delta compression using up to 8 threads
Compressing objects: 100% (60/60), done.
Writing objects: 100% (62/62), done.
Total 62 (delta 3), reused 0 (delta 0), pack-reused 0
remote: Resolving deltas: 100% (3/3), done.
To https://github.com/414871700-web/thread-calculator.git
 * [new branch]      main -> main
Branch 'main' set up to track remote branch 'main' from 'origin'.
```

---

## 需要帮助？

如果以上方案都不行，请告诉我：
1. 您尝试了哪个方案
2. 具体的错误信息
3. 您的网络环境（是否在中国大陆，是否使用代理）

我会帮您进一步排查问题！

