# 先添加PostgreSQL数据库

## ⚠️ 当前状态

我看到Railway自动添加了7个系统变量，但**没有看到 `DATABASE_URL`**。

这说明PostgreSQL数据库还没有添加。

---

## 📋 操作步骤：添加PostgreSQL数据库

### 步骤1：返回项目主页面

1. **点击页面左上角的 "thread-calculator"** 或项目名称
2. **或者点击 "Architecture" 标签页**
3. **回到项目的主视图**

### 步骤2：添加PostgreSQL数据库

1. **在项目页面**，点击 **"+ Create"** 按钮（右上角）
   - 或者点击页面上的 **"+ New"** 按钮

2. **选择数据库**：
   - 在下拉菜单中选择 **"Database"**
   - 然后选择 **"Add PostgreSQL"**

3. **等待数据库创建**：
   - Railway会自动创建PostgreSQL数据库
   - 等待约1-2分钟
   - 创建成功后，会在Architecture视图中显示一个新的数据库服务（通常显示为 "Postgres"）

---

### 步骤3：验证DATABASE_URL已添加

数据库创建完成后：

1. **回到 "thread-calculator" 服务的 Variables 页面**
2. **展开 "variables added by Railway" 部分**
3. **现在应该能看到 `DATABASE_URL` 了！**

`DATABASE_URL` 的格式类似：
```
postgresql://postgres:password@hostname:5432/railway
```

---

## ✅ 完成标志

- [ ] PostgreSQL数据库已添加（在Architecture视图中能看到）
- [ ] DATABASE_URL已出现在Variables列表中
- [ ] PORT、NODE_ENV、CORS_ORIGIN已添加

---

## 🎯 下一步

数据库添加完成后，我会指导您：
1. 运行数据库迁移
2. 获取后端URL
3. 在Vercel部署前端

---

## ❓ 如果找不到添加数据库的选项

如果在 "+ Create" 菜单中找不到 "Database" 选项，请：
1. 截图给我看 "+ Create" 菜单的内容
2. 或者告诉我您看到的选项有哪些

我会帮您找到正确的位置！

---

## 📝 现在请执行

**现在请先添加PostgreSQL数据库**：

1. 返回项目主页面（Architecture视图）
2. 点击 "+ Create" → "Database" → "Add PostgreSQL"
3. 等待数据库创建完成
4. 检查Variables中是否出现DATABASE_URL

完成后告诉我，我们继续下一步！

